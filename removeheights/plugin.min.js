/**
 * @package    removeheights
 * @author     Brian Teeman
 * @copyright  (C) 2026 - Brian Teeman
 * @license    GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */
tinymce.PluginManager.add("remove_heights",(function(e){function t(e){return e?e=(e=e.replace(/(<t[drh][^>]*?)\sstyle="([^"]*)"/gi,(function(e,t,n){let o=n.replace(/(^|;)\s*height\s*:\s*[^;]+;?/gi,"$1");return o=o.replace(/;;+/g,";").trim().replace(/^;|;$/g,""),o?t+' style="'+o+'"':t}))).replace(/(<t[drh][^>]*?)\sheight="[^"]*"/gi,"$1"):e}return e.on("init",(function(){e.plugins.table&&(e.plugins.table.resizeRows=function(){})})),e.on("BeforeSetContent",(function(e){e&&e.content&&(e.content=t(e.content))})),e.on("BeforeGetContent",(function(e){e&&e.content&&(e.content=t(e.content))})),e.on("PastePostProcess",(function(e){e&&e.node&&e.node.innerHTML&&(e.node.innerHTML=t(e.node.innerHTML))})),e.on("input change SetContent",(function(){const t=e.getBody();t&&t.querySelectorAll("td, tr, th").forEach((e=>{e.removeAttribute("height");const t=e.getAttribute("style");if(!t)return;let n=t.replace(/(^|;)\s*height\s*:\s*[^;]+;?/gi,"$1");n=n.replace(/;;+/g,";").trim().replace(/^;|;$/g,""),n?e.setAttribute("style",n):e.removeAttribute("style")}))})),{getMetadata:function(){return{name:"Remove Heights (Brian Teeman)",url:"https://github.com/brianteeman/remove_heights/blob/main/README.md"}}}}));